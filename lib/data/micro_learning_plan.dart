class MicroLearningPlan {
  static List<Map<String, dynamic>> get30DayPlan() {
    return [
      // Week 1: Foundation
      {
        'week': 1,
        'title': 'Foundation',
        'days': [
          {
            'day': 1,
            'title': 'Your First Trade',
            'goal': 'Make your first paper trade',
            'duration': 5,
            'xp_reward': 100,
            'badge': 'First Trader',
            'badge_emoji': 'üèÜ',
            'micro_lesson': [
              {'action': 'Open Orion', 'time': 0.5, 'description': 'Launch the app'},
              {'action': 'Buy 1 share of AAPL', 'time': 2, 'description': 'Make your first trade'},
              {'action': 'Watch it move', 'time': 2, 'description': 'Observe price movement'},
            ],
            'journal_prompt': 'How did you feel making your first trade?',
            'mindset_break': null,
          },
          {
            'day': 2,
            'title': 'Understanding Price',
            'goal': 'Learn what makes stock prices move',
            'duration': 10,
            'xp_reward': 150,
            'badge': 'Price Watcher',
            'badge_emoji': 'üìà',
            'micro_lesson': [
              {'action': 'Watch AAPL price', 'time': 5, 'description': 'Observe for 5 minutes'},
              {'action': 'Identify 1 reason why it moved', 'time': 3, 'description': 'Find the cause'},
              {'action': 'Make prediction for tomorrow', 'time': 2, 'description': 'Forecast the future'},
            ],
            'journal_prompt': 'What pattern did you notice in the price movement?',
            'mindset_break': null,
          },
          {
            'day': 3,
            'title': 'Risk Basics',
            'goal': 'Learn the 1% rule',
            'duration': 8,
            'xp_reward': 200,
            'badge': 'Risk Manager',
            'badge_emoji': 'üõ°Ô∏è',
            'micro_lesson': [
              {'action': 'Calculate 1% of your \$10,000 paper account', 'time': 2, 'description': 'Risk calculation'},
              {'action': 'Set stop loss on your AAPL trade', 'time': 3, 'description': 'Protect your capital'},
              {'action': 'Check if you followed the rule', 'time': 3, 'description': 'Verify compliance'},
            ],
            'journal_prompt': 'How does having a stop loss make you feel?',
            'mindset_break': {
              'content': 'Fear makes you sell too early, greed makes you hold too long. Find your balance.',
              'action': 'Take 2 deep breaths before making your trade',
              'xp_bonus': 50,
            },
          },
          {
            'day': 4,
            'title': 'Technical Indicator',
            'goal': 'Learn RSI basics',
            'duration': 12,
            'xp_reward': 250,
            'badge': 'Technical Trader',
            'badge_emoji': 'üìä',
            'micro_lesson': [
              {'action': 'Add RSI indicator to AAPL chart', 'time': 3, 'description': 'Technical setup'},
              {'action': 'Identify if overbought/oversold', 'time': 4, 'description': 'Signal interpretation'},
              {'action': 'Make trading decision based on RSI', 'time': 3, 'description': 'Apply the knowledge'},
            ],
            'journal_prompt': 'Did the RSI help you make a better decision?',
            'mindset_break': null,
          },
          {
            'day': 5,
            'title': 'News Trading',
            'goal': 'Trade based on news',
            'duration': 10,
            'xp_reward': 200,
            'badge': 'News Trader',
            'badge_emoji': 'üì∞',
            'micro_lesson': [
              {'action': 'Read 1 market news article', 'time': 3, 'description': 'Stay informed'},
              {'action': 'Find affected stock in Orion', 'time': 2, 'description': 'Connect news to stocks'},
              {'action': 'Make news-based trade', 'time': 3, 'description': 'Act on information'},
              {'action': 'Track result', 'time': 2, 'description': 'Monitor outcome'},
            ],
            'journal_prompt': 'How did news affect your trading decision?',
            'mindset_break': {
              'content': 'Fear makes you sell too early, greed makes you hold too long. Find your balance.',
              'action': 'Take 2 deep breaths before making your trade',
              'xp_bonus': 50,
            },
          },
          {
            'day': 6,
            'title': 'Portfolio Review',
            'goal': 'Check your performance',
            'duration': 10,
            'xp_reward': 200,
            'badge': 'Portfolio Manager',
            'badge_emoji': 'üíº',
            'micro_lesson': [
              {'action': 'Review all trades made this week', 'time': 5, 'description': 'Performance analysis'},
              {'action': 'Calculate total P&L', 'time': 3, 'description': 'Profit and loss'},
              {'action': 'Identify best trade', 'time': 2, 'description': 'Learn from success'},
            ],
            'journal_prompt': 'What was your best trade and why?',
            'mindset_break': null,
          },
          {
            'day': 7,
            'title': 'Week 1 Challenge',
            'goal': 'Complete weekly challenge',
            'duration': 15,
            'xp_reward': 500,
            'badge': 'Week 1 Champion',
            'badge_emoji': 'üèÜ',
            'micro_lesson': [
              {'action': 'Make 3 trades using different strategies', 'time': 10, 'description': 'Strategy application'},
              {'action': 'Beat your previous best performance', 'time': 3, 'description': 'Improvement goal'},
              {'action': 'Share your win with friends', 'time': 2, 'description': 'Social sharing'},
            ],
            'journal_prompt': 'How did you feel completing your first week?',
            'mindset_break': null,
          },
        ],
      },
      // Week 2: Skills
      {
        'week': 2,
        'title': 'Skills',
        'days': [
          {
            'day': 8,
            'title': 'Moving Averages',
            'goal': 'Learn 20-day moving average',
            'duration': 10,
            'xp_reward': 250,
            'badge': 'Trend Follower',
            'badge_emoji': 'üìà',
            'micro_lesson': [
              {'action': 'Add 20-day MA to chart', 'time': 2, 'description': 'Technical setup'},
              {'action': 'Identify trend (up/down/sideways)', 'time': 3, 'description': 'Trend analysis'},
              {'action': 'Make trend-based trade', 'time': 3, 'description': 'Apply trend knowledge'},
            ],
            'journal_prompt': 'How did the moving average help you identify the trend?',
            'mindset_break': null,
          },
          {
            'day': 9,
            'title': 'Support & Resistance',
            'goal': 'Find key price levels',
            'duration': 12,
            'xp_reward': 300,
            'badge': 'Level Trader',
            'badge_emoji': 'üìè',
            'micro_lesson': [
              {'action': 'Draw support line on chart', 'time': 3, 'description': 'Support identification'},
              {'action': 'Draw resistance line', 'time': 3, 'description': 'Resistance identification'},
              {'action': 'Plan trade at these levels', 'time': 4, 'description': 'Level-based strategy'},
            ],
            'journal_prompt': 'How do support and resistance levels help your trading?',
            'mindset_break': null,
          },
          {
            'day': 10,
            'title': 'Volume Analysis',
            'goal': 'Understand volume spikes',
            'duration': 8,
            'xp_reward': 150,
            'badge': 'Volume Trader',
            'badge_emoji': 'üìä',
            'micro_lesson': [
              {'action': 'Find stock with high volume', 'time': 3, 'description': 'Volume identification'},
              {'action': 'Analyze price movement', 'time': 3, 'description': 'Price-volume relationship'},
              {'action': 'Make volume-based trade', 'time': 2, 'description': 'Volume strategy'},
            ],
            'journal_prompt': 'How did volume help you understand price movement?',
            'mindset_break': {
              'content': 'Losses are tuition fees. Every loss teaches you something valuable.',
              'action': 'Write down 1 thing you learned from your last loss',
              'xp_bonus': 50,
            },
          },
          {
            'day': 11,
            'title': 'Candlestick Patterns',
            'goal': 'Learn doji pattern',
            'duration': 10,
            'xp_reward': 200,
            'badge': 'Pattern Trader',
            'badge_emoji': 'üïØÔ∏è',
            'micro_lesson': [
              {'action': 'Find doji pattern on chart', 'time': 3, 'description': 'Pattern identification'},
              {'action': 'Understand what it means', 'time': 3, 'description': 'Pattern interpretation'},
              {'action': 'Make pattern-based trade', 'time': 2, 'description': 'Pattern application'},
            ],
            'journal_prompt': 'How did the candlestick pattern help your trading?',
            'mindset_break': null,
            'practice_session': {
              'action': 'Find 2 more patterns',
              'time': 3,
              'description': 'Extra practice',
              'xp_bonus': 100,
            },
          },
          {
            'day': 12,
            'title': 'Swing Trading',
            'goal': 'Plan a swing trade',
            'duration': 10,
            'xp_reward': 250,
            'badge': 'Swing Trader',
            'badge_emoji': 'üéØ',
            'micro_lesson': [
              {'action': 'Find swing setup', 'time': 4, 'description': 'Swing identification'},
              {'action': 'Set entry/exit levels', 'time': 3, 'description': 'Level planning'},
              {'action': 'Place swing trade', 'time': 3, 'description': 'Swing execution'},
            ],
            'journal_prompt': 'How is swing trading different from day trading?',
            'mindset_break': null,
          },
          {
            'day': 13,
            'title': 'Risk-Reward Ratio',
            'goal': 'Calculate 2:1 ratio',
            'duration': 8,
            'xp_reward': 200,
            'badge': 'Risk Calculator',
            'badge_emoji': '‚öñÔ∏è',
            'micro_lesson': [
              {'action': 'Calculate risk on current trade', 'time': 3, 'description': 'Risk calculation'},
              {'action': 'Set 2:1 reward target', 'time': 3, 'description': 'Reward planning'},
              {'action': 'Verify ratio is correct', 'time': 2, 'description': 'Ratio verification'},
            ],
            'journal_prompt': 'How does the risk-reward ratio help your trading?',
            'mindset_break': null,
          },
          {
            'day': 14,
            'title': 'Week 2 Challenge',
            'goal': 'Master challenge',
            'duration': 15,
            'xp_reward': 600,
            'badge': 'Week 2 Master',
            'badge_emoji': 'üèÜ',
            'micro_lesson': [
              {'action': 'Use 3 different strategies', 'time': 10, 'description': 'Strategy diversity'},
              {'action': 'Beat Week 1 performance', 'time': 3, 'description': 'Improvement goal'},
              {'action': 'Unlock new level', 'time': 2, 'description': 'Progression reward'},
            ],
            'journal_prompt': 'How did you improve from Week 1?',
            'mindset_break': null,
          },
        ],
      },
      // Week 3: Strategy
      {
        'week': 3,
        'title': 'Strategy',
        'days': [
          {
            'day': 15,
            'title': 'Trend Following',
            'goal': 'Master trend identification',
            'duration': 12,
            'xp_reward': 300,
            'badge': 'Trend Master',
            'badge_emoji': 'üìà',
            'micro_lesson': [
              {'action': 'Identify market trend', 'time': 4, 'description': 'Market analysis'},
              {'action': 'Find trending stock', 'time': 4, 'description': 'Stock selection'},
              {'action': 'Make trend trade', 'time': 4, 'description': 'Trend execution'},
            ],
            'journal_prompt': 'How did you identify the market trend?',
            'mindset_break': null,
          },
          {
            'day': 16,
            'title': 'Breakout Trading',
            'goal': 'Catch breakouts',
            'duration': 15,
            'xp_reward': 400,
            'badge': 'Breakout Trader',
            'badge_emoji': 'üöÄ',
            'micro_lesson': [
              {'action': 'Find breakout setup', 'time': 5, 'description': 'Setup identification'},
              {'action': 'Wait for confirmation', 'time': 5, 'description': 'Confirmation patience'},
              {'action': 'Enter breakout trade', 'time': 3, 'description': 'Breakout execution'},
            ],
            'journal_prompt': 'How did you confirm the breakout was real?',
            'mindset_break': null,
          },
          {
            'day': 17,
            'title': 'Advanced Risk',
            'goal': 'Use trailing stops',
            'duration': 10,
            'xp_reward': 200,
            'badge': 'Stop Master',
            'badge_emoji': 'üõë',
            'micro_lesson': [
              {'action': 'Set trailing stop', 'time': 3, 'description': 'Stop setup'},
              {'action': 'Monitor position', 'time': 4, 'description': 'Position monitoring'},
              {'action': 'Adjust if needed', 'time': 3, 'description': 'Stop adjustment'},
            ],
            'journal_prompt': 'How did the trailing stop protect your profits?',
            'mindset_break': {
              'content': 'Confidence comes from preparation, not from being right every time.',
              'action': 'Write down 1 thing you\'re confident about in trading',
              'xp_bonus': 50,
            },
          },
          {
            'day': 18,
            'title': 'Trading Plan',
            'goal': 'Create personal plan',
            'duration': 15,
            'xp_reward': 350,
            'badge': 'Plan Creator',
            'badge_emoji': 'üìã',
            'micro_lesson': [
              {'action': 'Write 3 trading rules', 'time': 5, 'description': 'Rule creation'},
              {'action': 'Set daily limits', 'time': 5, 'description': 'Limit setting'},
              {'action': 'Test your plan', 'time': 5, 'description': 'Plan testing'},
            ],
            'journal_prompt': 'How will your trading plan help you stay disciplined?',
            'mindset_break': null,
          },
          {
            'day': 19,
            'title': 'Backtesting',
            'goal': 'Test strategy historically',
            'duration': 12,
            'xp_reward': 300,
            'badge': 'Backtester',
            'badge_emoji': 'üìä',
            'micro_lesson': [
              {'action': 'Pick 1 strategy to test', 'time': 3, 'description': 'Strategy selection'},
              {'action': 'Run backtest', 'time': 5, 'description': 'Historical testing'},
              {'action': 'Analyze results', 'time': 4, 'description': 'Result analysis'},
            ],
            'journal_prompt': 'What did the backtest tell you about your strategy?',
            'mindset_break': null,
          },
          {
            'day': 20,
            'title': 'Trading Journal',
            'goal': 'Record today\'s trades',
            'duration': 10,
            'xp_reward': 200,
            'badge': 'Journal Keeper',
            'badge_emoji': 'üìù',
            'micro_lesson': [
              {'action': 'Record all trades', 'time': 5, 'description': 'Trade recording'},
              {'action': 'Note emotions', 'time': 3, 'description': 'Emotional tracking'},
              {'action': 'Plan tomorrow', 'time': 2, 'description': 'Future planning'},
            ],
            'journal_prompt': 'How did your emotions affect your trading today?',
            'mindset_break': null,
          },
          {
            'day': 21,
            'title': 'Week 3 Challenge',
            'goal': 'Strategy mastery',
            'duration': 15,
            'xp_reward': 700,
            'badge': 'Strategy Master',
            'badge_emoji': 'üèÜ',
            'micro_lesson': [
              {'action': 'Execute 5 trades using your plan', 'time': 10, 'description': 'Plan execution'},
              {'action': 'Beat previous weeks', 'time': 3, 'description': 'Performance improvement'},
              {'action': 'Unlock advanced features', 'time': 2, 'description': 'Feature unlock'},
            ],
            'journal_prompt': 'How did your trading plan help you this week?',
            'mindset_break': null,
          },
        ],
      },
      // Week 4: Mastery
      {
        'week': 4,
        'title': 'Mastery',
        'days': [
          {
            'day': 22,
            'title': 'Market Sentiment',
            'goal': 'Read market mood',
            'duration': 10,
            'xp_reward': 250,
            'badge': 'Sentiment Reader',
            'badge_emoji': 'üòä',
            'micro_lesson': [
              {'action': 'Check VIX level', 'time': 2, 'description': 'Fear gauge'},
              {'action': 'Read 1 market headline', 'time': 3, 'description': 'News analysis'},
              {'action': 'Make sentiment trade', 'time': 3, 'description': 'Sentiment application'},
            ],
            'journal_prompt': 'How did market sentiment affect your trading?',
            'mindset_break': null,
          },
          {
            'day': 23,
            'title': 'Economic Data',
            'goal': 'Trade economic news',
            'duration': 12,
            'xp_reward': 300,
            'badge': 'Economic Trader',
            'badge_emoji': 'üìä',
            'micro_lesson': [
              {'action': 'Check economic calendar', 'time': 3, 'description': 'Event planning'},
              {'action': 'Find affected stocks', 'time': 4, 'description': 'Stock identification'},
              {'action': 'Make economic trade', 'time': 3, 'description': 'Economic strategy'},
            ],
            'journal_prompt': 'How did economic data affect your trading decisions?',
            'mindset_break': null,
          },
          {
            'day': 24,
            'title': 'Advanced Features',
            'goal': 'Explore Orion\'s advanced tools',
            'duration': 15,
            'xp_reward': 400,
            'badge': 'Advanced Trader',
            'badge_emoji': '‚ö°',
            'micro_lesson': [
              {'action': 'Try Level 2 data', 'time': 5, 'description': 'Advanced data'},
              {'action': 'Use options scanner', 'time': 5, 'description': 'Options exploration'},
              {'action': 'Make advanced trade', 'time': 3, 'description': 'Advanced execution'},
            ],
            'journal_prompt': 'How did the advanced features help your trading?',
            'mindset_break': null,
          },
          {
            'day': 25,
            'title': 'Portfolio Diversification',
            'goal': 'Diversify holdings',
            'duration': 10,
            'xp_reward': 200,
            'badge': 'Diversifier',
            'badge_emoji': 'üåà',
            'micro_lesson': [
              {'action': 'Check sector allocation', 'time': 3, 'description': 'Allocation analysis'},
              {'action': 'Add new sector stock', 'time': 4, 'description': 'Diversification action'},
              {'action': 'Balance portfolio', 'time': 3, 'description': 'Portfolio balancing'},
            ],
            'journal_prompt': 'How does diversification protect your portfolio?',
            'mindset_break': {
              'content': 'Patience is the most valuable skill in trading. Good things come to those who wait.',
              'action': 'Set a reminder to check your portfolio in 1 hour (not every 5 minutes!)',
              'xp_bonus': 50,
            },
          },
          {
            'day': 26,
            'title': 'Tax Planning',
            'goal': 'Understand trading taxes',
            'duration': 8,
            'xp_reward': 200,
            'badge': 'Tax Planner',
            'badge_emoji': 'üí∞',
            'micro_lesson': [
              {'action': 'Calculate tax on gains', 'time': 3, 'description': 'Tax calculation'},
              {'action': 'Plan tax-efficient trades', 'time': 3, 'description': 'Tax optimization'},
              {'action': 'Set tax records', 'time': 2, 'description': 'Record keeping'},
            ],
            'journal_prompt': 'How will tax planning affect your trading strategy?',
            'mindset_break': null,
          },
          {
            'day': 27,
            'title': 'Ethical Trading',
            'goal': 'Learn trading ethics',
            'duration': 10,
            'xp_reward': 200,
            'badge': 'Ethical Trader',
            'badge_emoji': 'ü§ù',
            'micro_lesson': [
              {'action': 'Read ethics guidelines', 'time': 5, 'description': 'Ethics education'},
              {'action': 'Identify ethical practices', 'time': 3, 'description': 'Practice identification'},
              {'action': 'Commit to ethical trading', 'time': 2, 'description': 'Ethics commitment'},
            ],
            'journal_prompt': 'How will ethical trading principles guide your decisions?',
            'mindset_break': null,
          },
          {
            'day': 28,
            'title': 'Final Challenge',
            'goal': 'Master trading challenge',
            'duration': 15,
            'xp_reward': 500,
            'badge': 'Trading Master',
            'badge_emoji': 'üèÜ',
            'micro_lesson': [
              {'action': 'Execute 5 trades using all strategies', 'time': 10, 'description': 'Strategy mastery'},
              {'action': 'Beat all previous performances', 'time': 3, 'description': 'Performance excellence'},
              {'action': 'Achieve mastery status', 'time': 2, 'description': 'Mastery achievement'},
            ],
            'journal_prompt': 'How did you feel achieving trading mastery?',
            'mindset_break': null,
            'practice_session': {
              'action': 'Execute 3 more advanced trades',
              'time': 5,
              'description': 'Extra mastery practice',
              'xp_bonus': 200,
            },
          },
          {
            'day': 29,
            'title': 'Final Review',
            'goal': 'Review entire journey',
            'duration': 15,
            'xp_reward': 300,
            'badge': 'Course Completer',
            'badge_emoji': 'üéì',
            'micro_lesson': [
              {'action': 'Review all badges earned', 'time': 5, 'description': 'Achievement review'},
              {'action': 'Calculate total XP', 'time': 3, 'description': 'Progress calculation'},
              {'action': 'Plan next level', 'time': 5, 'description': 'Future planning'},
            ],
            'journal_prompt': 'What was your biggest learning from this 30-day journey?',
            'mindset_break': null,
            'celebration': {
              'action': 'Take leaderboard snapshot',
              'time': 2,
              'description': 'Social proof',
              'xp_bonus': 200,
            },
          },
        ],
      },
    ];
  }

  static Map<String, dynamic> getDay(int day) {
    final plan = get30DayPlan();
    for (var week in plan) {
      for (var dayData in week['days']) {
        if (dayData['day'] == day) {
          return dayData;
        }
      }
    }
    return {};
  }

  static Map<String, dynamic> getWeek(int week) {
    final plan = get30DayPlan();
    if (week >= 1 && week <= plan.length) {
      return plan[week - 1];
    }
    return {};
  }
}
